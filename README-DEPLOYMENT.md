# Развертывание RoomSync на собственном сервере

Данное руководство поможет вам развернуть систему бронирования переговорных комнат RoomSync на собственном сервере.

## Системные требования

- Node.js 18+ 
- Docker и Docker Compose (рекомендуется)
- SQLite3
- Nginx (для production)

## Варианты развертывания

### Вариант 1: Развертывание с Docker (Рекомендуется)

1. **Клонирование проекта**
```bash
git clone <repository-url>
cd roomsync
```

2. **Настройка переменных окружения**
```bash
cp .env.example .env
# Отредактируйте .env файл с вашими настройками
```

3. **Запуск через Docker Compose**
```bash
docker-compose up -d
```

Приложение будет доступно по адресу `http://localhost:3000`

### Вариант 2: Ручное развертывание

1. **Установка зависимостей**
```bash
npm install
```

2. **Сборка фронтенда**
```bash
npm run build
```

3. **Инициализация базы данных**
```bash
npm run db:init
```

4. **Запуск backend сервера**
```bash
npm run start:server
```

5. **Настройка веб-сервера (Nginx)**
Скопируйте конфигурацию из `nginx.conf` в директорию конфигурации Nginx.

## Настройка администратора

После первого запуска создайте администратора:

```bash
npm run admin:create your-email@company.com
```

## Переменные окружения

- `DATABASE_PATH` - путь к файлу базы данных SQLite (по умолчанию: `./database.db`)
- `PORT` - порт для backend сервера (по умолчанию: `3001`)
- `NODE_ENV` - окружение (`development` или `production`)
- `JWT_SECRET` - секрет для подписи JWT токенов
- `SESSION_SECRET` - секрет для сессий
- `UPLOAD_PATH` - путь для загружаемых файлов (по умолчанию: `./uploads`)

## Безопасность

В production обязательно:
- Установите сильные пароли и секреты
- Используйте HTTPS
- Настройте firewall
- Регулярно создавайте резервные копии базы данных
- Ограничьте доступ к файлам базы данных

## Резервное копирование

```bash
# Создание резервной копии
npm run backup

# Восстановление из резервной копии
npm run restore backup-file.db
```

## Поддержка

Для получения поддержки создайте issue в репозитории проекта.
